drop database fenrir;

create schema fenrir;
use fenrir;

-- USUARIO
CREATE TABLE IF NOT EXISTS `TB_USUARIO` (
  `US_NOME` VARCHAR(20) NOT NULL,
  `US_SENHA` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`US_NOME`))
ENGINE = InnoDB;


-- COMODO
CREATE TABLE IF NOT EXISTS `TB_COMODO` (
  `CD_ID` INT NOT NULL AUTO_INCREMENT,
  `CD_NOME` VARCHAR(20) UNIQUE NOT NULL,
  `CD_PLANTA` BLOB NULL,
  `CD_TIPO` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`CD_ID`))
ENGINE = InnoDB;

-- ACESSO
CREATE TABLE IF NOT EXISTS `TB_ACESSO` (
  `US_NOME` VARCHAR(20) NOT NULL,
  `CD_ID` INT NOT NULL,
  `AC_LIBERA` CHAR NOT NULL DEFAULT 'B',
  PRIMARY KEY (`US_NOME`, `CD_ID`),
  INDEX `fk_USUARIO_has_TB_COMODO_TB_COMODO1_idx` (`CD_ID` ASC),
  INDEX `fk_USUARIO_has_TB_COMODO_USUARIO_idx` (`US_NOME` ASC),
  CONSTRAINT `fk_USUARIO_has_TB_COMODO_USUARIO`
    FOREIGN KEY (`US_NOME`)
    REFERENCES `TB_USUARIO` (`US_NOME`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_USUARIO_has_TB_COMODO_TB_COMODO1`
    FOREIGN KEY (`CD_ID`)
    REFERENCES `TB_COMODO` (`CD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- PORTAO
CREATE TABLE IF NOT EXISTS `TB_PORTAO` (
  `PT_ID` INT NOT NULL AUTO_INCREMENT,
  `PT_NOME` VARCHAR(20) UNIQUE NOT NULL,
  `PT_STATUS` CHAR NOT NULL DEFAULT 'D',
  `PT_PORTA` INT NOT NULL,
  `CD_ID` INT NOT NULL,
  PRIMARY KEY (`PT_ID`, `CD_ID`),
  INDEX `fk_TB_PORTAO_TB_COMODO1_idx` (`CD_ID` ASC),
  CONSTRAINT `fk_TB_PORTAO_TB_COMODO1`
    FOREIGN KEY (`CD_ID`)
    REFERENCES `TB_COMODO` (`CD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- CAMERA
CREATE TABLE IF NOT EXISTS `TB_CAMERA` (
  `CM_ID` INT NOT NULL AUTO_INCREMENT,
  `CM_NOME` VARCHAR(20) UNIQUE NOT NULL,
  `CM_IP` VARCHAR(15) NULL,
  `CD_ID` INT NOT NULL,
  PRIMARY KEY (`CM_ID`, `CD_ID`),
  INDEX `fk_TB_CAMERA_TB_COMODO1_idx` (`CD_ID` ASC),
  CONSTRAINT `fk_TB_CAMERA_TB_COMODO1`
    FOREIGN KEY (`CD_ID`)
    REFERENCES `TB_COMODO` (`CD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- SENSOR TEMPERATURA
CREATE TABLE IF NOT EXISTS `TB_TEMPERATURA` (
  `TP_ID` INT NOT NULL AUTO_INCREMENT,
  `TP_NOME` VARCHAR(20) UNIQUE NOT NULL,
  `TP_STATUS` CHAR NOT NULL DEFAULT 'D',
  `TP_TEMP` DOUBLE NULL,
  `TP_TEMPMAX` DOUBLE NULL,
  `TP_TEMPMIN` DOUBLE NULL,
  `TP_PORTA` INT NULL,
  `CD_ID` INT NOT NULL,
  PRIMARY KEY (`TP_ID`, `CD_ID`),
  INDEX `fk_TB_TEMPERATURA_TB_COMODO1_idx` (`CD_ID` ASC),
  CONSTRAINT `fk_TB_TEMPERATURA_TB_COMODO1`
    FOREIGN KEY (`CD_ID`)
    REFERENCES `TB_COMODO` (`CD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- LAMPADA
CREATE TABLE IF NOT EXISTS `TB_LAMPADA` (
  `LP_ID` INT NOT NULL AUTO_INCREMENT,
  `LP_NOME` VARCHAR(20) UNIQUE NOT NULL,
  `LP_STATUS` CHAR NOT NULL DEFAULT 'D',
  `LP_TENSAO` INT NOT NULL,
  `LP_CONSUMO` DOUBLE NOT NULL,
  `LP_CONSTOTAL` DOUBLE NULL,
  `LP_DIMMER` INT NULL,
  `CD_ID` INT NOT NULL,
  `LP_PORTA` INT NOT NULL,
  PRIMARY KEY (`LP_ID`, `CD_ID`),
  INDEX `fk_TB_LAMPADA_TB_COMODO1_idx` (`CD_ID` ASC),
  CONSTRAINT `fk_TB_LAMPADA_TB_COMODO1`
    FOREIGN KEY (`CD_ID`)
    REFERENCES `TB_COMODO` (`CD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;









-- INSERT'S 
-- USUARIO
INSERT INTO `fenrir`.`tb_usuario` (`us_nome`, `us_senha`) VALUES ('maycon', '202cb962ac59075b964b07152d234b70'); -- senha 123
INSERT INTO `fenrir`.`tb_usuario` (`us_nome`, `us_senha`) VALUES ('caio', '202cb962ac59075b964b07152d234b70'); -- senha 123


-- COMODO
INSERT INTO tb_comodo(cd_nome,cd_tipo) VALUES('SALA PRINCIPAL','SALA');
INSERT INTO tb_comodo(cd_nome,cd_tipo) VALUES('SALA 2','SALA');
INSERT INTO tb_comodo(cd_nome,cd_tipo) VALUES('QUARTO 1','QUARTO');


-- LAMPADA
INSERT INTO tb_lampada(lp_nome,lp_tensao, lp_consumo, lp_constotal, lp_dimmer, cd_id) 
				VALUES('teste_lp4', 120, 30, 0, 0, 4);


-- TEMPERATURA
INSERT INTO tb_temperatura(tp_nome, tp_status, tp_temp, tp_tempmax, tp_tempmin, cd_id) 
					VALUES('TP1', 'D', 0.0, 20.0, 5.0, 1);



-- CAMERA
INSERT INTO tb_camera(cm_nome, cm_ip, cd_id) values('teste cm', '192.168.0.1', 1);



-- PORTAO
INSERT INTO tb_portao(pt_nome, cd_id) values('teste pt', 1);



-- ACESSO
INSERT INTO tb_acesso(us_nome,cd_id,ac_libera) values('CAIO',1,'A');




update tb_comodo set CD_PLANTA ='data:image/png;base64,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'
 where cd_id = 1;


-- SELECT'S
select * from tb_usuario;
select * from tb_comodo;
select * from tb_lampada;
select * from tb_temperatura;
select * from tb_camera;
select * from tb_portao;
select * from tb_acesso;

-- BUSCA TODOS OS ACESSOS DE UM USUARIO
SELECT c.cd_id, c.cd_nome,
	ifnull((SELECT ac_libera FROM tb_acesso WHERE cd_id = c.cd_id AND us_nome = 'CAIO'), 'B') AS ac_libera
	FROM tb_comodo c;


-- BUSCA O ACESSO DE UM COMODO DE UM USUARIO
SELECT c.cd_id, c.cd_nome,
	ifnull((SELECT ac_libera FROM tb_acesso WHERE cd_id = c.cd_id AND us_nome = 'MAYCON'), 'B') AS ac_libera
	FROM tb_comodo c where cd_id = 1;



SELECT cd.cd_id, cd.cd_nome FROM tb_comodo cd , tb_acesso ac WHERE cd.cd_id = ac.cd_id AND ac.us_nome = 'maycon' AND cd.cd_tipo = 'sala';


select lp.lp_id, lp.lp_nome, lp.CD_ID from tb_lampada lp, tb_comodo cd 
			where lp.cd_id = cd.cd_id and cd.cd_tipo = 'sala' AND cd.cd_id in (1,4);

select cd.cd_id, cd.cd_nome from tb_comodo cd , tb_acesso ac 
			where cd.cd_id = ac.cd_id and ac.us_nome = 'maycon' and cd.cd_tipo = 'sala';




